# OTP-Java
A small and easy-to-use one-time password (HOTP/TOTP) generator for Java.

## Usage
### HOTP (Counter-based one-time passwords)
##### Generation of HOTP object:

```java
String secret = "ABCDEFGHIJKLMNOP";
HOTPGenerator hotp = new HOTPGenerator(secret);
```

The default length of a generated code is six digits. You can change the default:
```java
String secret = "ABCDEFGHIJKLMNOP";
int passwordLength = 6;
HOTPGenerator hotp = new HOTPGenerator(passwordLength, secret);
```

##### Generation of HOTP code:
After creating an instance of the HOTPGenerator class, a code can be generated by using the `generate()` method:
```java
try {
    int counter = 5;
    String code = hotp.generate(counter);
} catch (IllegalStateException e) {
    // Handle error
}
```

### TOTP (Time-based one-time passwords)
##### Generation of TOTP object:
TOTPGenerator can accept more paramaters: `passwordLength`, `timeInterval`, `algorithm` and `secret`. The default values for passwordLength = 6, timeInterval = 30, algorithm = SHA1.

```java
String secret = "ABCDEFGHIJKLMNOP";
int passwordLength = 6;
Duration timeInterval = Duration.ofSeconds(30);
HMACAlgorithm algorithm = HMACAlgorithm.SHA1;

TOTPGenerator totp = new TOTPGenerator(passwordLength, timeInterval, algorithm, secret);
```

##### Generation of TOTP code:
After creating an instance of the TOTPGenerator class, a code can be generated by using the `generate()` method, similarly with the HOTPGenerator class:
```java
try {
    String code = totp.generate();
} catch (IllegalStateException e) {
    // Handle error
}
```
The above code will generate a time-based one-time password based on the current time. The API supports, besides the current time, the creation of codes based on `timeSince1970`, `Date` and `Instant` values:

```java
try {
    String codeBasedOnCurrentTime = totp.generate();
    String codeBasedOnDate = totp.generate(new Date());
    String codeBasedOnSecondsSince1970 = totp.generate(9238346823);
    String codeBasedOnAnInstant = totp.generate(Instant.now());
} catch (IllegalStateException e) {
    // Handle error
}
```

## Licence
OTP-Java is available under the MIT licence. See the LICENCE for more info.
